<app-navbar></app-navbar>
<h2>Manage Visa Status</h2>
<div class="card my-5">
    <div class="card-body">
        <div *ngIf="!visaAlert">No Alerts to display for {{employeeName}}</div>
        <div *ngIf="visaAlert">
            <form (ngSubmit)="onSubmit()" #visaForm="ngForm">
                <div class="form-group" *ngIf="!appOpen">{{visaMessage}} <button type="button" class="btn btn-info" (click)="startApplication()">Start Application</button></div>
                <div *ngIf="appOpen && appStatus === 'open'">
                    <div>
                        <div class="form-group">
                            <label for="visaFile">{{visaMessage}}</label><br>
                            <input type="file" id="visaFile" name="visaFile" [(ngModel)]="visaFile" (change)="setFile($event)" required>
                            <!-- need to figure out file upload but display seems to work -->
                        </div>
                    </div>

                    <button type="submit" [disabled]="!visaForm.form.valid" class="btn btn-info">Next</button>
                </div>
            </form>
        </div>
        <div *ngIf="appStatus === 'pending'">Please wait for HR to approve your paperwork</div>
    </div>
</div>